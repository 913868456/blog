

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/blog/img/favicon.png">
  <link rel="icon" type="image/png" href="/blog/img/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="吃面多放葱">
  <meta name="keywords" content="">
  <title>YYCategories介绍 - 吃面多放葱的博客</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/blog/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.0.0/styles/github-gist.min.css" />
    
  

  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_pf9vaxs7x7b.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/blog/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script  src="/blog/js/utils.js" ></script>
  <script  src="/blog/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.2.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/blog/">&nbsp;<strong>吃面多放葱</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/blog/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/blog/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/blog/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/blog/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" href="javascript:">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner intro-2" id="background" parallax=true
         style="background: url('/blog/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="container page-header text-center fade-in-up">
            <span class="h2" id="subtitle">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2018-02-09 18:44" pubdate>
        2018年2月9日 晚上
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      2k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      30
       分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto" id="post">
            <!-- SEO header -->
            <h1 style="display: none">YYCategories介绍</h1>
            
            <div class="markdown-body" id="post-body">
              <h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>功能丰富的 Category 类型工具库</p>
<h2 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h2><h6 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h6><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> __has_include(<span class="hljs-meta-string">&lt;YYCategories/YYCategories.h&gt;)</span></span>
<span class="hljs-meta">#import <span class="hljs-meta-string">&lt;YYCategories/YYCategoriesMacro.h&gt;</span></span>
<span class="hljs-meta">#import <span class="hljs-meta-string">&lt;YYCategories/NSObject+YYAdd.h&gt;</span></span>
...
<span class="hljs-meta">#<span class="hljs-meta-keyword">else</span></span>
<span class="hljs-meta">#import <span class="hljs-meta-string">&quot;YYCategoriesMacro.h&quot;</span></span>
<span class="hljs-meta">#import <span class="hljs-meta-string">&quot;NSObject+YYAdd.h&quot;</span></span>
...
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span></code></pre>
<h6 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h6><p>这样做可以提高编译效率.如果指定文件路径,则搜索的更快一些.<br>一般我们使用YYCategories导入的时候都是库文件,所以指定目录位置搜索更快一些</p>
<pre><code class="hljs xl">＃<span class="hljs-keyword">import</span> &lt; &gt; 引用系统文件，它用于对系统自带的头文件的引用，编译器会在系统文件目录下去查找该文件.
#<span class="hljs-keyword">import</span> <span class="hljs-string">&quot; &quot;</span>  用户自定义的文件用双引号引用，编译器首先会在用户目录下查找，然后到安装目录中查</code></pre>

<hr>
<h6 id="Code-1"><a href="#Code-1" class="headerlink" title="Code"></a>Code</h6><pre><code class="hljs cpp">FOUNDATION_EXPORT <span class="hljs-keyword">double</span> YYCategoriesVersionNumber;
FOUNDATION_EXPORT <span class="hljs-keyword">const</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> YYCategoriesVersionString[];</code></pre>

<h6 id="功能-1"><a href="#功能-1" class="headerlink" title="功能"></a>功能</h6><p>例如比较两个字符串</p>
<p><code>FOUNDATION_EXPORT</code> 直接使用<code>stringInstance == MyFirstConstant</code>来比较,比较的是指针地址<br><code>define</code>使用<code>[stringInstance isEqualToString:MyFirstConstant]</code><br>比较字符串的每一个字符是否相等<br><code>FOUNDATION_EXPORT</code>效率更高</p>
<pre><code class="hljs objectivec">
<span class="hljs-built_in">NS_ASSUME_NONNULL_BEGIN</span>

<span class="hljs-comment">/**</span>
<span class="hljs-comment"> Provides extensions for `UIBarButtonItem`.</span>
<span class="hljs-comment"> */</span>
<span class="hljs-class"><span class="hljs-keyword">@interface</span> <span class="hljs-title">UIBarButtonItem</span> (<span class="hljs-title">YYAdd</span>)</span>

<span class="hljs-comment">/**</span>
<span class="hljs-comment"> The block that invoked when the item is selected. The objects captured by block</span>
<span class="hljs-comment"> will retained by the ButtonItem.</span>
<span class="hljs-comment"> </span>
<span class="hljs-comment"> @discussion This param is conflict with `target` and `action` property.</span>
<span class="hljs-comment"> Set this will set `target` and `action` property to some internal objects.</span>
<span class="hljs-comment"> */</span>
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">nullable</span>, <span class="hljs-keyword">nonatomic</span>, <span class="hljs-keyword">copy</span>) <span class="hljs-keyword">void</span> (^actionBlock)(<span class="hljs-keyword">id</span>);

<span class="hljs-keyword">@end</span>

<span class="hljs-built_in">NS_ASSUME_NONNULL_END</span>
</code></pre>
<p>该段代码使用了<code>NS_ASSUME_NONNULL_BEGIN</code>,<code>NS_ASSUME_NONNULL_END</code> </p>
<p>两个宏中间包含的属性,参数值,返回值,默认是 <code>nonnull</code> 类型.</p>
<p>如果想要某个属性,参数值或者返回值为可选类型,则单独在该属性,参数值,或者返回值前单独标明<code>nullable</code>.</p>
<h6 id="Code-2"><a href="#Code-2" class="headerlink" title="Code"></a>Code</h6><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> __cplusplus</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> YY_EXTERN_C_BEGIN  extern <span class="hljs-meta-string">&quot;C&quot;</span> &#123;</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> YY_EXTERN_C_END  &#125;</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">else</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> YY_EXTERN_C_BEGIN</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> YY_EXTERN_C_END</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span></code></pre>

<h6 id="功能-2"><a href="#功能-2" class="headerlink" title="功能"></a>功能</h6><p>在C++环境中有定义 <code>__cplusplus</code> 这个宏,如果在C++环境中, <code>YY_EXTERN_C_BEGIN</code>和 <code>YY_EXTERN_C_END</code>中间的代码,编译器用C语言的编译格式来编译.因为 C++ 为了实现函数重载会把函数名和参数等联合起来合成一个中介的函数名，如果 C 函数也被这样编译会出问题.</p>
<h6 id="Code-3"><a href="#Code-3" class="headerlink" title="Code"></a>Code</h6><pre><code class="hljs reasonml">#ifndef YY_SWAP <span class="hljs-comment">// swap two value</span>
#define <span class="hljs-constructor">YY_SWAP(<span class="hljs-params">_a_</span>, <span class="hljs-params">_b_</span>)</span>  <span class="hljs-keyword">do</span> &#123; <span class="hljs-constructor">__typeof__(<span class="hljs-params">_a_</span>)</span> _tmp_ = (_a_); (_a_) = (_b_); (_b_) = _tmp_; &#125; <span class="hljs-keyword">while</span> (<span class="hljs-number">0</span>)
#endif</code></pre>
<h6 id="功能-3"><a href="#功能-3" class="headerlink" title="功能"></a>功能</h6><p>交换两个值</p>
<h6 id="Code-4"><a href="#Code-4" class="headerlink" title="Code"></a>Code</h6><pre><code class="hljs angelscript">#ifndef YYSYNTH_DUMMY_CLASS
#define YYSYNTH_DUMMY_CLASS(_name_) \
@<span class="hljs-keyword">interface</span> <span class="hljs-symbol">YYSYNTH_DUMMY_CLASS_</span> ## <span class="hljs-symbol">_name_</span> : <span class="hljs-symbol">NSObject</span> @<span class="hljs-symbol">end</span> \
@<span class="hljs-symbol">implementation</span> <span class="hljs-symbol">YYSYNTH_DUMMY_CLASS_</span> ## <span class="hljs-symbol">_name_</span> @<span class="hljs-symbol">end</span>
#<span class="hljs-symbol">endif</span></code></pre>

<h6 id="功能-4"><a href="#功能-4" class="headerlink" title="功能"></a>功能</h6><p>如果条件成立,执行断言.</p>
<h6 id="Code-5"><a href="#Code-5" class="headerlink" title="Code"></a>Code</h6><pre><code class="hljs angelscript">#ifndef YYSYNTH_DUMMY_CLASS
#define YYSYNTH_DUMMY_CLASS(_name_) \
@<span class="hljs-keyword">interface</span> <span class="hljs-symbol">YYSYNTH_DUMMY_CLASS_</span> ## <span class="hljs-symbol">_name_</span> : <span class="hljs-symbol">NSObject</span> @<span class="hljs-symbol">end</span> \
@<span class="hljs-symbol">implementation</span> <span class="hljs-symbol">YYSYNTH_DUMMY_CLASS_</span> ## <span class="hljs-symbol">_name_</span> @<span class="hljs-symbol">end</span>
#<span class="hljs-symbol">endif</span></code></pre>

<h6 id="功能-5"><a href="#功能-5" class="headerlink" title="功能"></a>功能</h6><p>在ios开发过程中，有时候会用到第三方的静态库(.a文件)，OC没有为每个函数（或者方法）定义链接符号，它只为每个类创建链接符号。这样当在一个静态库中使用类别来扩展已有类的时候，链接器不知道如何把类原有的方法和类别中的方法整合起来，就会导致你调用类别中的方法时，会出现selector not recognized的错误，从而导致app闪退。使用这段宏定义他可以虚拟新建一个与名字category 相同.h.m 让编译器 编译通过。即可解决上面的问题。</p>
<h6 id="Code-6"><a href="#Code-6" class="headerlink" title="Code"></a>Code</h6><pre><code class="hljs less"><span class="hljs-selector-id">#ifndef</span> <span class="hljs-selector-tag">YYSYNTH_DYNAMIC_PROPERTY_OBJECT</span>
<span class="hljs-selector-id">#define</span> <span class="hljs-selector-tag">YYSYNTH_DYNAMIC_PROPERTY_OBJECT</span>(_getter_, _setter_, _association_, _type_) \
<span class="hljs-selector-tag">-</span> (void)<span class="hljs-selector-tag">_setter_</span> : (_type_)<span class="hljs-selector-tag">object</span> &#123; \
    <span class="hljs-selector-attr">[self willChangeValueForKey:@#_getter_]</span>; \
    <span class="hljs-selector-tag">objc_setAssociatedObject</span>(self, _cmd, object, OBJC_ASSOCIATION_ ## _association_); \
    <span class="hljs-selector-attr">[self didChangeValueForKey:@#_getter_]</span>; \
&#125; \
<span class="hljs-selector-tag">-</span> (_type_)<span class="hljs-selector-tag">_getter_</span> &#123; \
    <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">objc_getAssociatedObject</span>(self, <span class="hljs-variable">@selector</span>(<span class="hljs-attribute">_setter_</span>:)); \
&#125;
<span class="hljs-selector-id">#endif</span></code></pre>

<h6 id="功能-6"><a href="#功能-6" class="headerlink" title="功能"></a>功能</h6><p>使用runtime,合成类别中定义的属性的<code>Setter</code> 和 <code>Getter</code>方法.</p>
<h6 id="Code-7"><a href="#Code-7" class="headerlink" title="Code"></a>Code</h6><pre><code class="hljs clean">#ifndef weakify
    #<span class="hljs-keyword">if</span> DEBUG
        #<span class="hljs-keyword">if</span> __has_feature(objc_arc)
        #define weakify(object) autoreleasepool&#123;&#125; __weak __typeof__(object) weak##_##object = object;
        #else
        #define weakify(object) autoreleasepool&#123;&#125; __block __typeof__(object) block##_##object = object;
        #endif
    #else
        #<span class="hljs-keyword">if</span> __has_feature(objc_arc)
        #define weakify(object) try&#123;&#125; @finally&#123;&#125; &#123;&#125; __weak __typeof__(object) weak##_##object = object;
        #else
        #define weakify(object) try&#123;&#125; @finally&#123;&#125; &#123;&#125; __block __typeof__(object) block##_##object = object;
        #endif
    #endif
#endif

#ifndef strongify
    #<span class="hljs-keyword">if</span> DEBUG
        #<span class="hljs-keyword">if</span> __has_feature(objc_arc)
        #define strongify(object) autoreleasepool&#123;&#125; __typeof__(object) object = weak##_##object;
        #else
        #define strongify(object) autoreleasepool&#123;&#125; __typeof__(object) object = block##_##object;
        #endif
    #else
        #<span class="hljs-keyword">if</span> __has_feature(objc_arc)
        #define strongify(object) try&#123;&#125; @finally&#123;&#125; __typeof__(object) object = weak##_##object;
        #else
        #define strongify(object) try&#123;&#125; @finally&#123;&#125; __typeof__(object) object = block##_##object;
        #endif
    #endif
#endif</code></pre>

<h6 id="功能-7"><a href="#功能-7" class="headerlink" title="功能"></a>功能</h6><p>生成一个若引用或者强引用.</p>
<p>Example:</p>
<pre><code class="hljs elixir"><span class="hljs-variable">@weakify</span>(<span class="hljs-keyword">self</span>)
[<span class="hljs-keyword">self</span> doSomething^&#123;
    <span class="hljs-variable">@strongify</span>(<span class="hljs-keyword">self</span>)
    if (!<span class="hljs-keyword">self</span>) <span class="hljs-keyword">return</span>;
    ...
&#125;];</code></pre>

<h6 id="Code-8"><a href="#Code-8" class="headerlink" title="Code"></a>Code</h6><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">YYBenchmark</span><span class="hljs-params">(<span class="hljs-keyword">void</span> (^block)(<span class="hljs-keyword">void</span>), <span class="hljs-keyword">void</span> (^complete)(<span class="hljs-keyword">double</span> ms))</span> </span>&#123;
    <span class="hljs-comment">// &lt;sys/time.h&gt; version</span>
    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">timeval</span> <span class="hljs-title">t0</span>, <span class="hljs-title">t1</span>;</span>
    gettimeofday(&amp;t0, <span class="hljs-literal">NULL</span>);
    block();
    gettimeofday(&amp;t1, <span class="hljs-literal">NULL</span>);
    <span class="hljs-keyword">double</span> ms = (<span class="hljs-keyword">double</span>)(t1.tv_sec - t0.tv_sec) * <span class="hljs-number">1e3</span> + (<span class="hljs-keyword">double</span>)(t1.tv_usec - t0.tv_usec) * <span class="hljs-number">1e-3</span>;
    complete(ms);
&#125;</code></pre>

<h6 id="功能-8"><a href="#功能-8" class="headerlink" title="功能"></a>功能</h6><p>这个函数还是挺实用的,可以用来计算block内代码的执行时间,通过该函数来测试写的代码执行效率.</p>
<p>返回值为毫秒,double类型.</p>
<pre><code class="hljs excel">/**
 Profile <span class="hljs-built_in">time</span> cost.
 @param block     <span class="hljs-built_in">code</span> to benchmark
 @param complete  <span class="hljs-built_in">code</span> <span class="hljs-built_in">time</span> cost (millisecond)
 
 Usa<span class="hljs-symbol">ge:</span>
    YYBenchmark(^&#123;
        // <span class="hljs-built_in">code</span>
    &#125;, ^(double ms) &#123;
        NSLog(<span class="hljs-string">&quot;time cost: %.2f ms&quot;</span>,ms);
    &#125;);
 
 */</code></pre>

<h6 id="Code-9"><a href="#Code-9" class="headerlink" title="Code"></a>Code</h6><pre><code class="hljs objectivec"><span class="hljs-keyword">static</span> <span class="hljs-keyword">inline</span> <span class="hljs-built_in">NSDate</span> *_YYCompileTime(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> *data, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> *time) &#123;
    <span class="hljs-built_in">NSString</span> *timeStr = [<span class="hljs-built_in">NSString</span> stringWithFormat:<span class="hljs-string">@&quot;%s %s&quot;</span>,data,time];
    <span class="hljs-built_in">NSLocale</span> *locale = [[<span class="hljs-built_in">NSLocale</span> alloc] initWithLocaleIdentifier:<span class="hljs-string">@&quot;en_US&quot;</span>];
    <span class="hljs-built_in">NSDateFormatter</span> *formatter = [[<span class="hljs-built_in">NSDateFormatter</span> alloc] init];
    [formatter setDateFormat:<span class="hljs-string">@&quot;MMM dd yyyy HH:mm:ss&quot;</span>];
    [formatter setLocale:locale];
    <span class="hljs-keyword">return</span> [formatter dateFromString:timeStr];
&#125;

<span class="hljs-comment">/**</span>
<span class="hljs-comment"> Get compile timestamp.</span>
<span class="hljs-comment"> @return A new date object set to the compile date and time.</span>
<span class="hljs-comment"> */</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">ifndef</span> YYCompileTime</span>
<span class="hljs-comment">// use macro to avoid compile warning when use pch file</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> YYCompileTime() _YYCompileTime(__DATE__, __TIME__)</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span></code></pre>

<h6 id="功能-9"><a href="#功能-9" class="headerlink" title="功能"></a>功能</h6><p>获取编译开始时间.格式为”MMM dd yyyy HH:mm:ss”</p>
<h6 id="Code-10"><a href="#Code-10" class="headerlink" title="Code"></a>Code</h6><pre><code class="hljs cpp"><span class="hljs-comment">/**</span>
<span class="hljs-comment"> Submits a block for execution on a main queue and waits until the block completes.</span>
<span class="hljs-comment"> */</span>
<span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">dispatch_sync_on_main_queue</span><span class="hljs-params">(<span class="hljs-keyword">void</span> (^block)(<span class="hljs-keyword">void</span>))</span> </span>&#123;
    <span class="hljs-keyword">if</span> (pthread_main_np()) &#123;
        block();
    &#125; <span class="hljs-keyword">else</span> &#123;
        dispatch_sync(dispatch_get_main_queue(), block);
    &#125;
&#125;</code></pre>

<h6 id="功能-10"><a href="#功能-10" class="headerlink" title="功能"></a>功能</h6><p>提交blcok到主队列同步执行.下面提交block到主队列异步执行,使用起来还是蛮方便的.</p>
<h6 id="Code-NSArray-YYAdd"><a href="#Code-NSArray-YYAdd" class="headerlink" title="Code (NSArray + YYAdd)"></a>Code (NSArray + YYAdd)</h6><pre><code class="hljs axapta"><span class="hljs-comment">/**</span>
<span class="hljs-comment"> Reverse the index of object in this array.</span>
<span class="hljs-comment"> Example: Before @[ @1, @2, @3 ], After @[ @3, @2, @1 ].</span>
<span class="hljs-comment"> */</span>
- (<span class="hljs-keyword">void</span>)<span class="hljs-keyword">reverse</span>;

- (<span class="hljs-keyword">void</span>)<span class="hljs-keyword">reverse</span> &#123;
    NSUInteger <span class="hljs-keyword">count</span> = self.<span class="hljs-keyword">count</span>;
    <span class="hljs-keyword">int</span> mid = floor(<span class="hljs-keyword">count</span> / <span class="hljs-number">2.0</span>);
    <span class="hljs-keyword">for</span> (NSUInteger i = <span class="hljs-number">0</span>; i &lt; mid; i++) &#123;
        [self exchangeObjectAtIndex:i withObjectAtIndex:(<span class="hljs-keyword">count</span> - (i + <span class="hljs-number">1</span>))];
    &#125;
&#125;</code></pre>
<h6 id="功能-11"><a href="#功能-11" class="headerlink" title="功能"></a>功能</h6><p>数组翻转</p>
<h6 id="Code-NSDate-YYADD"><a href="#Code-NSDate-YYADD" class="headerlink" title="Code (NSDate + YYADD)"></a>Code (NSDate + YYADD)</h6><pre><code class="hljs applescript">/**
 Create data <span class="hljs-keyword">from</span> <span class="hljs-keyword">the</span> <span class="hljs-built_in">file</span> <span class="hljs-keyword">in</span> main bundle (similar <span class="hljs-keyword">to</span> [UIImage imageNamed:]).
 
 @param <span class="hljs-built_in">name</span> The <span class="hljs-built_in">file</span> <span class="hljs-built_in">name</span> (<span class="hljs-keyword">in</span> main bundle).
 
 @<span class="hljs-literal">return</span> A new data create <span class="hljs-keyword">from</span> <span class="hljs-keyword">the</span> <span class="hljs-built_in">file</span>.
 */
+ (nullable NSData *)dataNamed:(NSString *)<span class="hljs-built_in">name</span>;</code></pre>

<h6 id="功能-12"><a href="#功能-12" class="headerlink" title="功能"></a>功能</h6><p>返回main bundle 下指定文件的的二进制数据.</p>
<h6 id="Code-NSNumber-YYAdd"><a href="#Code-NSNumber-YYAdd" class="headerlink" title="Code (NSNumber + YYAdd)"></a>Code (NSNumber + YYAdd)</h6><pre><code class="hljs nim">/**
 <span class="hljs-type">Creates</span> <span class="hljs-keyword">and</span> returns an <span class="hljs-type">NSNumber</span> <span class="hljs-keyword">object</span> <span class="hljs-keyword">from</span> a <span class="hljs-built_in">string</span>.
 <span class="hljs-type">Valid</span> format: @<span class="hljs-string">&quot;12&quot;</span>, @<span class="hljs-string">&quot;12.345&quot;</span>, @<span class="hljs-string">&quot; -0xFF&quot;</span>, @<span class="hljs-string">&quot; .23e99 &quot;</span>...
 
 @param <span class="hljs-built_in">string</span>  <span class="hljs-type">The</span> <span class="hljs-built_in">string</span> described an number.
 
 @<span class="hljs-keyword">return</span> an <span class="hljs-type">NSNumber</span> <span class="hljs-keyword">when</span> parse succeed, <span class="hljs-keyword">or</span> <span class="hljs-keyword">nil</span> <span class="hljs-keyword">if</span> an error occurs.
 */
+ (nullable <span class="hljs-type">NSNumber</span> *)numberWithString:(<span class="hljs-type">NSString</span> *)<span class="hljs-built_in">string</span>;</code></pre>

<h6 id="功能-13"><a href="#功能-13" class="headerlink" title="功能"></a>功能</h6><p>将一个字符串对象解析为NSNumber类型对象,很实用.</p>
<h6 id="Code-NSObject-YYAdd"><a href="#Code-NSObject-YYAdd" class="headerlink" title="Code (NSObject+YYAdd)"></a>Code (NSObject+YYAdd)</h6><pre><code class="hljs haxe">+ (BOOL)swizzleInstanceMethod:<span class="hljs-type"></span>(SEL)originalSel with:<span class="hljs-type"></span>(SEL)<span class="hljs-keyword">new</span><span class="hljs-type">Sel</span> &#123;
    Method originalMethod = class_getInstanceMethod(self, originalSel);
    Method <span class="hljs-keyword">new</span><span class="hljs-type">Method</span> = class_getInstanceMethod(self, <span class="hljs-keyword">new</span><span class="hljs-type">Sel</span>);
    <span class="hljs-keyword">if</span> (!originalMethod || !<span class="hljs-keyword">new</span><span class="hljs-type">Method</span>) <span class="hljs-keyword">return</span> NO;
    
    class_addMethod(self,
                    originalSel,
                    class_getMethodImplementation(self, originalSel),
                    method_getTypeEncoding(originalMethod));
    class_addMethod(self,
                    <span class="hljs-keyword">new</span><span class="hljs-type">Sel</span>,
                    class_getMethodImplementation(self, <span class="hljs-keyword">new</span><span class="hljs-type">Sel</span>),
                    method_getTypeEncoding(<span class="hljs-keyword">new</span><span class="hljs-type">Method</span>));
    
    method_exchangeImplementations(class_getInstanceMethod(self, originalSel),
                                   class_getInstanceMethod(self, <span class="hljs-keyword">new</span><span class="hljs-type">Sel</span>));
    <span class="hljs-keyword">return</span> YES;
&#125;</code></pre>

<h6 id="功能-14"><a href="#功能-14" class="headerlink" title="功能"></a>功能</h6><p>runtime 黑魔法,方法实现交换.</p>
<h6 id="Code-11"><a href="#Code-11" class="headerlink" title="Code"></a>Code</h6><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">pragma</span> clang diagnostic push</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">pragma</span> clang diagnostic ignored <span class="hljs-meta-string">&quot;-相关命令&quot;</span></span>
    <span class="hljs-comment">//需要操作的代码</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">pragma</span> clang diagnostic pop</span></code></pre>

<h6 id="功能-15"><a href="#功能-15" class="headerlink" title="功能"></a>功能</h6><p>消除编译器警告⚠️</p>
<table>
<thead>
<tr>
<th>相关命令</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>“-Wdeprecated-declarations”</td>
<td>弃用的警告⚠️</td>
</tr>
<tr>
<td>“-Wincompatible-pointer-types”</td>
<td>不兼容指针类型⚠️</td>
</tr>
<tr>
<td>“-Warc-retain-cycles”</td>
<td>循环引用⚠️</td>
</tr>
<tr>
<td>“-Wunused-variable”</td>
<td>未使用变量 ⚠️</td>
</tr>
<tr>
<td>“-Wcovered-switch-default”</td>
<td>未使用default ⚠️</td>
</tr>
<tr>
<td>…</td>
<td>…</td>
</tr>
</tbody></table>
<h6 id="Code-UIBarButtonItem-YYAdd"><a href="#Code-UIBarButtonItem-YYAdd" class="headerlink" title="Code (UIBarButtonItem+YYAdd)"></a>Code (UIBarButtonItem+YYAdd)</h6><pre><code class="hljs objectivec"><span class="hljs-class"><span class="hljs-keyword">@interface</span> <span class="hljs-title">_YYUIBarButtonItemBlockTarget</span> : <span class="hljs-title">NSObject</span></span>

<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">nonatomic</span>, <span class="hljs-keyword">copy</span>) <span class="hljs-keyword">void</span> (^block)(<span class="hljs-keyword">id</span> sender);

- (<span class="hljs-keyword">id</span>)initWithBlock:(<span class="hljs-keyword">void</span> (^)(<span class="hljs-keyword">id</span> sender))block;
- (<span class="hljs-keyword">void</span>)invoke:(<span class="hljs-keyword">id</span>)sender;

<span class="hljs-keyword">@end</span>

<span class="hljs-class"><span class="hljs-keyword">@implementation</span> <span class="hljs-title">_YYUIBarButtonItemBlockTarget</span></span>

- (<span class="hljs-keyword">id</span>)initWithBlock:(<span class="hljs-keyword">void</span> (^)(<span class="hljs-keyword">id</span> sender))block&#123;
    <span class="hljs-keyword">self</span> = [<span class="hljs-keyword">super</span> init];
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">self</span>) &#123;
        _block = [block <span class="hljs-keyword">copy</span>];
    &#125;
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>;
&#125;

- (<span class="hljs-keyword">void</span>)invoke:(<span class="hljs-keyword">id</span>)sender &#123;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">self</span>.block) <span class="hljs-keyword">self</span>.block(sender);
&#125;

<span class="hljs-keyword">@end</span>


<span class="hljs-class"><span class="hljs-keyword">@implementation</span> <span class="hljs-title">UIBarButtonItem</span> (<span class="hljs-title">YYAdd</span>)</span>

- (<span class="hljs-keyword">void</span>)setActionBlock:(<span class="hljs-keyword">void</span> (^)(<span class="hljs-keyword">id</span> sender))block &#123;
    _YYUIBarButtonItemBlockTarget *target = [[_YYUIBarButtonItemBlockTarget alloc] initWithBlock:block];
    objc_setAssociatedObject(<span class="hljs-keyword">self</span>, &amp;block_key, target, OBJC_ASSOCIATION_RETAIN_NONATOMIC);
    
    [<span class="hljs-keyword">self</span> setTarget:target];
    [<span class="hljs-keyword">self</span> setAction:<span class="hljs-keyword">@selector</span>(invoke:)];
&#125;

- (<span class="hljs-keyword">void</span> (^)(<span class="hljs-keyword">id</span>)) actionBlock &#123;
    _YYUIBarButtonItemBlockTarget *target = objc_getAssociatedObject(<span class="hljs-keyword">self</span>, &amp;block_key);
    <span class="hljs-keyword">return</span> target.block;
&#125;</code></pre>

<h6 id="功能-16"><a href="#功能-16" class="headerlink" title="功能"></a>功能</h6><p>通过创建一个中间对象,让UIBarButtonItem的Target指向该对象,同时让self 调用该对象的方法.来达到点击事件调用block而无需再设置selector的目的.</p>
<p>通过这种方式,<code>YYCategories</code>将多种类似点击控件,调用selector的方式,修改为block.</p>
<blockquote>
<p><strong>注意</strong> 使用block给控件添加点击事件后,就不能再给该控件添加selector,否则会引起冲突.</p>
</blockquote>
<h6 id="Code-UIColor-YYAdd"><a href="#Code-UIColor-YYAdd" class="headerlink" title="Code  (UIColor+YYAdd)"></a>Code  (UIColor+YYAdd)</h6><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">ifndef</span> UIColorHex</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> UIColorHex(_hex_)   [UIColor colorWithHexString:((__bridge NSString *)CFSTR(#_hex_))]</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span></code></pre>
<h6 id="功能-17"><a href="#功能-17" class="headerlink" title="功能"></a>功能</h6><p>16进制颜色转换<br>Example: UIColorHex(0xF0F), UIColorHex(66ccff), UIColorHex(#66CCFF88)<br>支持的格式是如此之多, #RGB #RGBA #RRGGBB #RRGGBBAA 0xRGB …</p>
<h6 id="Code-UIImage-YYAdd"><a href="#Code-UIImage-YYAdd" class="headerlink" title="Code  (UIImage+YYAdd)"></a>Code  (UIImage+YYAdd)</h6><pre><code class="hljs objectivec"><span class="hljs-comment">/**</span>
<span class="hljs-comment"> Returns a new rotated image (relative to the center).</span>
<span class="hljs-comment"> </span>
<span class="hljs-comment"> @param radians   Rotated radians in counterclockwise.⟲</span>
<span class="hljs-comment"> </span>
<span class="hljs-comment"> @param fitSize   YES: new image&#x27;s size is extend to fit all content.</span>
<span class="hljs-comment">                  NO: image&#x27;s size will not change, content may be clipped.</span>
<span class="hljs-comment"> */</span>
- (<span class="hljs-keyword">nullable</span> <span class="hljs-built_in">UIImage</span> *)imageByRotate:(<span class="hljs-built_in">CGFloat</span>)radians fitSize:(<span class="hljs-built_in">BOOL</span>)fitSize;</code></pre>

<h6 id="功能-18"><a href="#功能-18" class="headerlink" title="功能"></a>功能</h6><p>图片翻转,超级实用<br>…</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p><code>YYCategories</code>中对<code>UIKit</code>, <code>Foundation</code>, <code>Quartz</code>中的常用类添加分类,里面还有好多实用的API来供我们项目开发使用,想要进一步了解并使用其中的API,可以参阅<code>YYCategories</code>中的头文件.</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a target="_blank" rel="noopener" href="https://github.com/ibireme/YYCategories">YYCategories</a><br><a target="_blank" rel="noopener" href="http://clang.llvm.org/docs/UsersManual.html#diagnostics_pragmas">clang.llvm.org</a></p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/blog/categories/iOS/">iOS</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/blog/tags/YYCategories/">YYCategories</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p>
              
              
                <div class="post-prevnext row">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/blog/2018/02/11/%E9%9A%8F%E7%AC%94/%E5%A4%A9%E8%B7%AF%E6%97%85%E9%80%94%EF%BC%88%E4%B8%89%EF%BC%89/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">天路旅途（三）</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/blog/2018/02/06/iOS/JavaScriptCore/">
                        <span class="hidden-mobile">JavaScriptCore</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div id="tocbot"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    
  </main>

  
    <a id="scroll-top-button" href="#" role="button">
      <i class="iconfont icon-arrowup" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  

  

  <footer class="mt-5">
  <div class="text-center py-3">
    <div>
      <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a>
      <i class="iconfont icon-love"></i>
      <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener">
        <span>Fluid</span></a>
    </div>
    

    

    
  </div>
</footer>

<!-- SCRIPTS -->
<script  src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js" ></script>
<script  src="/blog/js/debouncer.js" ></script>
<script  src="/blog/js/main.js" ></script>

<!-- Plugins -->


  
    <script  src="/blog/js/lazyload.js" ></script>
  



  



  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>
  <script  src="/blog/js/clipboard-use.js" ></script>







  <script  src="https://cdn.staticfile.org/tocbot/4.11.1/tocbot.min.js" ></script>
  <script>
    $(document).ready(function () {
      var boardCtn = $('#board-ctn');
      var boardTop = boardCtn.offset().top;

      tocbot.init({
        tocSelector: '#tocbot',
        contentSelector: '#post-body',
        headingSelector: 'h1,h2,h3,h4,h5,h6',
        linkClass: 'tocbot-link',
        activeLinkClass: 'tocbot-active-link',
        listClass: 'tocbot-list',
        isCollapsedClass: 'tocbot-is-collapsed',
        collapsibleClass: 'tocbot-is-collapsible',
        collapseDepth: 0,
        scrollSmooth: true,
        headingsOffset: -boardTop
      });
      if ($('.toc-list-item').length > 0) {
        $('#toc').css('visibility', 'visible');
      }
    });
  </script>



  <script  src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "YYCategories介绍&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 70,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.2.2/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "hover",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script  src="/blog/js/local-search.js" ></script>
  <script>
    var path = "/blog/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      searchFunc(path, 'local-search-input', 'local-search-result');
      this.onclick = null
    }
  </script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />

  <script>
    $('#post img:not(.no-zoom img, img[no-zoom]), img[zoom]').each(
      function () {
        var element = document.createElement('a');
        $(element).attr('data-fancybox', 'images');
        $(element).attr('href', $(this).attr('src'));
        $(this).wrap(element);
      }
    );
  </script>




















</body>
</html>
