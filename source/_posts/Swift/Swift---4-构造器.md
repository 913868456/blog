
---
title:  构造器
categories:
- Swift
tags: 
- Swift
hide: true
---
## 给存储属性设置初始值
类 和 结构体 必须在类实例和结构体实例创建前给他们的存储属性设置初始值.

> 注意 
当你给一个存储属性设置一个默认值,或者在一个构造器中设置它的初始值时,该属性的值会直接设置,不会调用任何属性观察器.

## 默认属性值
你可以在一个构造器中设置存储属性的值,或者在属性声明的时候给它指定一个默认值.

> 注意
如果一个属性总是一样的初始值,提供一个默认值比在初始化中设值要更好.虽然最后结果相同,但默认值将属性的初始化与声明更加紧密地联系在一起.它使构造器更简短,干净.而且使你能够从它的默认值中推断属性的类型.默认值也使你更容易利用默认构造器和构造继承

> 注意 值类型的初始化
如果您想使用默认构造器或者成员智能构造器去自定义值类型的构造器,在一个分类中定义您的自定义构造器.而不是作为值类型原始实现的一部分.

# 使用闭包或函数设置属性的默认值

```
class SomeClass{
        let someProperty: SomeType = {
              //在这个闭包中给someProperty创建一个默认值
              //someValue必须和SomeType类型相同
              return someValue
        }()
}
```
注意闭包结尾的大括号后面接了一对空的小括号。这用来告诉 Swift 立即执行此闭包。如果你忽略了这对括 号，相当于将闭包本身作为值赋值给了属性，而不是将闭包的返回值赋值给属性。

> 如果你使用闭包来初始化属性，请记住在闭包执行时，实例的其它部分都还没有初始化。这意味着你不能在闭包 里访问其它属性，即使这些属性有默认值。同样，你也不能使用隐式的 self 属性，或者调用任何实例方法。








